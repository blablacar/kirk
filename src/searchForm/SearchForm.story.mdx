import { Meta, Preview, Props, Story } from '@storybook/addon-docs/blocks'
import { text } from '@storybook/addon-knobs'

import { TransitionDuration } from '../_utils/branding'
import { MediaSizeProvider } from '../_utils/mediaSizeProvider'
import { knobEnum } from '../../.storybook/knobs'
import { AutoCompleteExample } from '../autoComplete/AutoCompleteExample'
import { DatePicker } from '../datePicker'
import { BaseSection, SectionContentSize } from '../layout/section/baseSection'
import { AutoCompleteOverlay } from './autoComplete/overlay'
import { AutoCompleteSection } from './autoComplete/section'
import { DatePickerOverlay } from './datePicker/overlay'
import { DatePickerSection } from './datePicker/section'
import { SearchForm } from './index'
import { SlideSwitchTransition, SlideSwitchTransitionSide } from './SlideSwitchTransition'
import { StepperOverlay } from './stepper/overlay'
import { StepperSection } from './stepper/section'

<Meta title="Widgets|SearchForm" />

# **QrCard**

### Datepicker

#### DatepickerOverlay

<Preview>
  <Story name="DatepickerOverlay">
    <DatePickerOverlay
      name="Datepicker"
      title="Today"
      renderDatePickerComponent={props => <DatePicker {...props} />}
    />
  </Story>
</Preview>

#### DatePickerSection

<Preview>
  <Story name="DatePickerSection">
    <DatePickerSection
      name="Datepicker"
      title="Today"
      onClose={() => {}}
      renderDatePickerComponent={props => <DatePicker {...props} />}
    />
  </Story>
</Preview>

### Stepper

#### StepperOverlay

<Preview>
  <Story name="StepperOverlay">
    <StepperOverlay
      name="Stepper"
      min={1}
      max={8}
      itemTitle="1 seat"
      title="Choose your number of seats"
      increaseLabel="Increase"
      decreaseLabel="Decrease"
    />
  </Story>
</Preview>

#### StepperSection

<Preview>
  <Story name="StepperSection">
    <StepperSection
      name="Stepper"
      itemTitle="1 seat"
      title="Choose your number of seats"
      increaseLabel="Increase"
      decreaseLabel="Decrease"
      confirmLabel="Submit"
      onClose={() => {}}
    />
  </Story>
</Preview>

### AutoComplete

#### AutoCompleteOverlay

<Preview>
  <Story name="AutoCompleteOverlay">
    <AutoCompleteOverlay
      name="from"
      renderAutocompleteComponent={props => <AutoCompleteExample {...props} />}
    />
  </Story>
</Preview>

#### AutoCompleteSection

<Preview>
  <Story name="AutoCompleteSection">
    <AutoCompleteSection
      name="from"
      renderAutocompleteComponent={props => <AutoCompleteExample {...props} />}
      onClose={() => {}}
    />
  </Story>
</Preview>

## SearchForm

<Preview>
  <Story name="SearchForm">
    <MediaSizeProvider>
      <BaseSection contentSize={SectionContentSize.LARGE}>
        <SearchForm
          onSubmit={() => {}}
          initialFrom=""
          initialTo=""
          disabledFrom={false}
          disabledTo={false}
          autocompleteFromPlaceholder="Leaving From"
          autocompleteToPlaceholder="Going to"
          renderAutocompleteFrom={props => <AutoCompleteExample {...props} embeddedInSearchForm />}
          renderAutocompleteTo={props => <AutoCompleteExample {...props} embeddedInSearchForm />}
          datepickerProps={{
            defaultValue: new Date().toISOString(),
            format: value => new Date(value).toLocaleDateString(),
          }}
          stepperProps={{
            defaultValue: 1,
            min: 1,
            max: 8,
            title: 'Choose your number of seats',
            increaseLabel: 'Increase the number of seats by 1',
            decreaseLabel: 'Decrease the number of seats by 1',
            format: value => `${value} seat(s)`,
            confirmLabel: 'Submit',
          }}
        />
      </BaseSection>
    </MediaSizeProvider>
  </Story>
</Preview>

### SlideSwitchTransition

<Preview>
  <Story name="SlideSwitchTransition">
    <SlideSwitchTransition
      transitionDuration={knobEnum('transitionDuration', TransitionDuration, {
        isPropOptional: true,
      })}
      side={knobEnum('side', SlideSwitchTransitionSide, { isPropOptional: true })}
      childrenKey={text('children', 'Some text')}
    >
      {text('children', 'Some text')}
    </SlideSwitchTransition>
  </Story>
</Preview>


## Specifications

## Usage

```jsx
import { SearchForm } from '@blablacar/ui-library/build/searchForm'

import { AutoCompleteExample } from './AutoCompleteExample'

<SearchForm
  onSubmit={() => {}}
  initialFrom=""
  initialTo=""
  disabledFrom={false}
  disabledTo={false}
  autocompleteFromPlaceholder="Leaving From"
  autocompleteToPlaceholder="Going to"
  renderAutocompleteFrom={props => <AutoCompleteExample {...props} embeddedInSearchForm />}
  renderAutocompleteTo={props => <AutoCompleteExample {...props} embeddedInSearchForm />}
  datepickerProps={{
    defaultValue: new Date().toISOString(),
    format: value => new Date(value).toLocaleDateString(),
  }}
  stepperProps={{
    defaultValue: 1,
    min: 1,
    max: 8,
    title: 'Choose your number of seats',
    increaseLabel: 'Increase the number of seats by 1',
    decreaseLabel: 'Decrease the number of seats by 1',
    format: value => `${value} seat(s)`,
    confirmLabel: 'Submit',
  }}
/>

```

<Props of={SearchForm} />
